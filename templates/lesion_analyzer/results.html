{% extends 'base.html' %}

{% block content %}
<h1 class="text-center mb-4">Analysis Results</h1>

<div class="row">
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">Original Image</div>
            <div class="card-body text-center">
                <img src="{{ analysis.image.url }}" class="img-fluid rounded">
            </div>
        </div>
    </div>
    
    {% if analysis.segmentation_mask %}
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">Segmentation Mask</div>
            <div class="card-body text-center">
                <img src="{{ analysis.segmentation_mask.url }}" class="img-fluid rounded">
            </div>
        </div>
    </div>
    {% endif %}

    {% if analysis.segmented_region %}
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">Segmented Region</div>
            <div class="card-body text-center">
                <img src="{{ analysis.segmented_region.url }}" class="img-fluid rounded">
            </div>
        </div>
    </div>
    {% endif %}
</div>

<div class="row mt-4">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <h3>Classification: {{ analysis.get_predicted_class_display }}</h3>
                <p>Confidence: {{ analysis.confidence_score|floatformat:1 }}%</p>
                <p>Analysis Date: {{ analysis.created_at }}</p>
            </div>
        </div>
    </div>
</div>

<div class="text-center mt-4">
    <a href="{% url 'lesion_analyzer:upload' %}" class="btn btn-primary">
        Analyze Another Image
    </a>
</div>
{% endblock %}
